<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Refactor</title>
	<link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
	<link rel="stylesheet" href="../Styles/menu.css">
	<link rel="stylesheet" type="text/css" href="../Styles/main.css">
	<script src="http://rubaxa.github.io/Sortable/Sortable.js"></script>
	<!--<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="../Scripts/main.js"></script> 
	<script src="../Scripts/pathFinder.js"></script> 
	<script  src="../resources/go.js"></script>
	<script src="../Scripts/graph.js"></script> 

</head>

<body>
	<div id="nav">	
		<ul>		
			<li>
				<a href="javascript:home();"><span>Proces</span></a>
			</li>
			<li>
				<a href="javascript:pathFinder();"><span>Optimálny proces</span></a>
			</li>
			<li>
				<a href="javascript:search();"><span>Vyhľadávanie</span></a>
			</li>
			<li>
				<a href="javascript:refactor(0);"><span>Refaktoring</span></a>
			</li>
			<li>
				<a href="javascript:rules(0);"><span>Pravidlá</span></a>
			</li>
			<li>
				<a href="javascript:preferences(0);"><span>Preferencie</span></a>
			</li>
			<li>
				<a href="javascript:records();"><span>Záznamy o opravách</span></a>
			</li>
	<!--		<li>
				<a href="javascript:smells();"><span>Databáza pachov</span></a>
			</li>-->
			<li>
				<a href="javascript:smellView();"><span>Zobrazenie nálezov</span></a>
			</li>
			<li>
				<a href="javascript:about(0);"><span>O programe</span></a>
			</li>
		</ul>
	</div> 
	<section id="home">
		<h1>Refactor</h1>
		<form>
			<label for="repo">Git repozitár</label>
			<input type="text" name="repo" placeholder="Example: https://john@github.com/john/test.git" value="https://github.com/hascicm/refactor.git" id="repo"><p/>
			<label for="name">Prihlasovacie meno</label>
			<input type="text" name="name" id="name"><p/>
			<label for="password">Prihlasovacie heslo</label>
			<input type="password" name="password" id="password">
		</form>

		<hr>

		<form>
			<label for="search">Git branch - vyhľadávanie</label>
			<input type="text" name="search" value="search" id="searchBranch"><p/>
			<label for="repair">Git branch - oprava</label>
			<input type="text" name="repair" value="repair" id="repairBranch"><p/>
		</form>
		<p/>
		<hr>
		<p/>
		<form>


			<p>
				<input type="checkbox" id="explanationSearch" name="cc" />
				<label for="explanationSearch"><span></span>Vysvetlenia do search vetvy</label>
			</p>
			<p>
				<input type="checkbox" id="createrepairrecord" name="cc" />
				<label for="createrepairrecord"><span></span>vytvorit zaznam o oprave</label>
			</p>

		</form>
		<p/>
		<hr>
		<h3>SonarQube</h3>
		<form>
			<p>
				<input type="checkbox" id="sonarQubeAnalyze" name="cc" />
				<label for="sonarQubeAnalyze"><span></span>Analyzovať projekt pomocou nástroja SonarQube</label>
			</p>
			<p>
				<label for="sonarHost">Hostname</label>
				<input type="text" name="sonarHost" value="http://localhost:9000" id="sonarHost">
			</p>
			<p>
				<label for="sonarLogin">Prihlasovacie meno</label>
				<input type="text" name="sonarLogin" value="admin" id="sonarLogin">
			</p>
			<p>
				<label for="sonarPassword">Heslo</label>
				<input type="password" name="sonarPassword" value="admin" id="sonarPassword">
			</p>

		</form>
		<hr>
		<div>
			<button type="button" onclick="execute()">Vykonať</button> 
			<!--	<button type="button" onclick="clearComments()">Vymaž komentáre</button> --> 
		</div>
	</section>
	<section id="pathFinder">
		<div id="nav">	
			<ul class="subnav">		
				<li>
					<a href="javascript:pathFinder();"><span>Proces</span></a>
				</li>
				<li>
					<a href="javascript:pathFinderResults();"><span>Výsledky</span></a>
				</li>
			</ul>
		</div>
		<h1>Path Finder</h1>
		<form>
			<label for="repo-pathfiner">Git repozitár</label>
			<input type="text" name="repo-pathfiner" placeholder="Example: https://john@github.com/john/test.git" value="https://github.com/hascicm/refactor.git" id="repo-pathfiner"><p/>
			<label for="name-pathfiner">Prihlasovacie meno</label>
			<input type="text" name="name-pathfiner" id="name-pathfiner"><p/>
			<label for="password-pathfiner">Prihlasovacie heslo</label>
			<input type="password" name="password-pathfiner" id="password-pathfiner">
		</form>

		<hr>

		<form>

			<label for="search-pathfiner">Git branch - vyhľadávanie</label>
			<input type="text" name="search-pathfiner" value="search-pathfinder" id="searchBranch-pathfiner"><p/>
		</form>
		<p/>
		<hr>
		<p/>
		<form>
			<p>
				<input type="checkbox" id="explanationSearch-pathfiner" name="cc" />
				<label for="explanationSearch-pathfiner"><span></span>Vysvetlenia do search vetvy</label>
			</p>
		</form>
		<p/>
		<hr>
		<h3>SonarQube</h3>
		<form>
			<p>
				<input type="checkbox" id="sonarQubeAnalyze-pathfiner" name="cc" />
				<label for="sonarQubeAnalyze-pathfiner"><span></span>Analyzovať projekt pomocou nástroja SonarQube</label>

			</p>
			<p>
				<label for="sonarHost-pathfiner">Hostname</label>
				<input type="text" name="sonarHost-pathfiner" value="http://localhost:9000" id="sonarHost-pathfiner">
			</p>
			<p>
				<label for="sonarLogin-pathfiner">Prihlasovacie meno</label>
				<input type="text" name="sonarLogin-pathfiner" value="admin" id="sonarLogin-pathfiner">
			</p>
			<p>
				<label for="sonarPassword-pathfiner">Heslo</label>
				<input type="password" name="sonarPassword-pathfiner" value="admin" id="sonarPassword-pathfiner">
			</p>

		</form>
		<hr>

		<p>
			<input type="checkbox" id="utilizeclustering" name="cc" />
			<label for="utilizeclustering"><span></span>Použiť zhlukovaniie na urýchlenie analýzy</label>

		</p>

		<p>
			<div>
				<label id="labelPathFinder" for="pathFindingMethod">Metóda prehľadávania stavového priestoru</label>
				<select id="pathFindingMethod">
					<option value="A*">A*</option>
					<option value="bee">Včelí algoritmus</option>
					<option value="ant">Mravčia kolónia</option>
					<option value="mc">Monte Carlo</option>
				</select>
			</div>
		</p>
		<br>
		<div>
			<button type="button" onclick="executePathFinder()">Vykonať</button> 
		</div>
	</section>

	<section id="pathFinderResults">
		<div id="nav">	
			<ul class="subnav">		
				<li>
					<a href="javascript:pathFinder();"><span>Proces</span></a>
				</li>
				<li>
					<a href="javascript:pathFinderResults();"><span>Výsledky</span></a>
				</li>
			</ul>
		</div>
		<h1>
			Výsledky analýz
		</h1>
		<table id="pathFinderResultsAnalysisList" >
			<thead>
				<tr>
					<th>id</th>
					<th>Git repozitár</th>
					<th>používateľ</th>
					<th>čas vykonania</th>
				</tr>
			</thead>
			<tbody id="tabletbodyPathFinderResultsAnalys">
			</tbody>

		</table>	 	

	</section>

	<section  id="pathFinderResultsConcrete">
		<div id="nav">	
			<ul class="subnav">		
				<li>
					<a href="javascript:pathFinder();"><span>Proces</span></a>
				</li>
				<li>
					<a href="javascript:pathFinderResults();"><span>Výsledky</span></a>
				</li>
			</ul>
		</div>
		<div>
			<div class="recdetail left"  >

				<h1>Výsledky</h1>
			</div>
			<div class="recdetail right">	
				<button type="button" id="pathFinderResultsBack" onclick="pathFinderResultsBackr()">späť</button> 

			</div>
		</div>
		<div style="clear: both;"></div>

		<div class="recdetail">

			<label for="pathFinderResultsRepo">repozitar</label>
			<input class ="detail" type="text" id="pathFinderResultsRepo" name="git repo" value="" readonly><br>
		</div>
		<div>
			<div class="recdetail left"  >
				<label for="pathFinderResultsUser">použivateľ</label>
				<input class ="detail" type="text" id="pathFinderResultsUser" name="git user" value="" readonly><br>
			</div>
			<div class="recdetail right">	    	
				<label for="pathFinderResultsTime">čas</label>
				<input class ="detail" type="text" id="pathFinderResultsTime" name="time stamp" value="" readonly><br>
			</div>
		</div>
		<div style="clear: both;"></div>

		<hr>
		<div id="clusterselectiondiv">
			<div class="recdetail left">

				<label for="pathFinderResultsClusterID">číslo zhluku</label>
				<input class ="detail" type="text" id="pathFinderResultsClusterID" name="cluster id" value="" readonly>

			</div>
			<button type="button" id="pathFinderResultsNextCluster" onclick="pathFinderResultsNextCluster()">nasledujuci</button> 
			<button type="button" id="pathFinderResultsPreviousCluster" onclick="pathFinderResultsPreviousCluster()">predchadzajuci</button> 
			<div style="clear: both;"></div>
			<hr>
		</div>
		<div>
			<div>
				<div class="recdetail">
					<div class="recdetail left">

						<h2>
							identifikované pachy
						</h2>
					</div>
					<div class="recdetail right">
						<button type="button" id="pathFinderResultSmellTableToggle" class="buttonSmall" onclick="pathFinderResultSmellTableToggle()">skryť</button> 
					</div>
				</div>
				<div id="pathFinderResultSmellTableDiv">
					<table id="pathFinderResultSmellTable" >
						<thead>
							<tr>
								<th>nájdený pach</th>
								<th>popis</th>
								<th>počet výskytov</th>
							</tr>
						</thead>
						<tbody id="tabletbodyPathfinderResults">
						</tbody>

					</table>	 
				</div>
			</div>
			<div style="clear: both;"></div>

			<hr>
			<h2>optimálna postupnosť opráv</h2>
			<div class="recdetail">	  
				<div class="recdetail left">  	
					<label for="pathFinderResultsTime">poradie opravy</label>
					<input class ="detail" type="text" id="pathFinderResultsOrder" name="order" value="" readonly><br>
				</div>
				<div class="recdetail right">
					<div>				
						<div class="recdetailwithbutton">
							<label for="pathFinderResultsIsdone">označené ako dokončené</label>
							<input class ="detail" class="recdetailbutton" type="text" id="pathFinderResultsIsdone" name="isdone" value="" readonly><br>
						</div>
						<button type="button" id="pathFinderResultsRepairComplete" class="recdetailbutton" onclick="pathFinderResultsRepairComplete()">označiť ako opravené</button> 
					</div>

				</div>
				<div style="clear: both;"></div>
				<div class="recdetail left"> 
					<label for="pathFinderResultsSmell">pach</label>
					<input class ="detail" type="text" id="pathFinderResultsSmell" name="Smell" value="" readonly><br>
				</div>
				<div class="recdetail right">
					<label id="labelPathFinder" for="pathFinderResultsCode">označenie v zdrojovom kóde</label>
					<input class ="detail" type="text" id="pathFinderResultsCode" name="code" value="" readonly><br>	
				</div>
				<div class="recdetail left"> 

					<label for="pathFinderResultsSmellPosition">poloha pachu</label>
					<textarea class ="detail" type="text" id="pathFinderResultsSmellPosition" name="position" value="" readonly rows="5"></textarea>
				</div>
				<div class="recdetail right">

					<label for="pathFinderResultsRecRepair">odporúčaná oprava</label>
					<textarea class ="detail" type="text" id="pathFinderResultsRecRepair" name="repair" value="" readonly rows="5"></textarea>								
				</div>





				<button type="button" id="pathFinderResultsNextRepair"     onclick="pathFinderResultsNextRepair()">nasledujuci</button> 
				<button type="button" id="pathFinderResultsPreviousRepair" onclick="pathFinderResultsPreviousRepair()">predchadzajuci</button> 
				<div style="clear: both;"></div>
				<hr>
			</div>
		</div>
			<div class="recdetail">	  
				<div class="recdetail left">  	

						<h2>
							grafické zobrazenie postupnosti
						</h2>
				</div>
				<div class="recdetail right">

		<button class="buttonSmall" id="expandPathfinderResultGraphButton" onclick="expandPathfinderResultGraph()">Zobraziť</button>
				</div>
		</div>
		<div style="clear: both;"></div>

		<div id="pathFinderResultGraphDiv" style="display: none;">	    
								<textarea  type="text" id="pathFinderResultGraphText" name="" value="" readonly rows="10"></textarea>
	
				<div id="myDiagramDiv" style="height:600px;width:100%;border:1px solid black; background-color: #DAE4E4;margin-bottom: 25px"></div>
			</div>
		<!--		<h2>popis prvku</h2> -->
			</div>
		</div>

	</section>

	<div class="pathFinderAlertContainer" id="pathFinderAlertContainer">
	</div>


	<section id="search" hidden=true>
		<h1>Možnosti vyhľadávania</h1>
		<table id="searchTable">
			<tr>
				<th>Aktívny</th>
				<th>Kód</th>
				<th>Názov</th>
				<th>Editovať</th>
			</tr>
		</table>
		<button type="button" onclick="addSearch()">Pridať</button>
	</section>
	<section id="refactor" hidden=true>
		<h1>Možnosti refaktorovania</h1>
		<table id="repairTable">
			<tr>
				<th>Aktívny</th>
				<th>Kód</th>
				<th>Názov</th>
				<th>Editovať</th>
			</tr>
		</table>
		<button type="button" onclick="addRepair()">Pridať</button>
	</section>
	<section id="preferences" hidden=true>
		<h1>Prioritizácia problémov</h1>
		<p>
			Potiahnutím upravte vaše preferenicie:
			<ol id="priorityList">
				<li>Bad Size</li>
				<li>Bad Location</li>
				<li>Bad Class Content</li>
				<li>Bad Inheritance</li>
				<li>Needless Part</li>
				<li>Attribute Problem</li>
				<li>Bad Communication</li>
			</ol>
		</section>
		<section id="rules" hidden=true>
			<h1>Aktualizujte pravidlá expertného systému</h1>
			<textarea id="ruleDef" rows="35">
			</textarea>
			<button type="button" onclick="saveRules()">Uložiť</button>
		</section>

		<section id="repairEdit" hidden=true>
			<h1>Aktualizujte pravidlo</h1>
			<p>
				<input type="text" name="name" id="rEditName" placeholder="názov">
				<input type="text" name="code" id="rEditCode" placeholder="kód">
				<p>
					<textarea rows="30" id="rEditScript">
					</textarea>
					<button type="button" onclick="saveRepair()">Uložiť</button>
				</section>

				<section id="searchEdit" hidden=true>
					<h1>Aktualizujte pravidlo</h1>
					<p>
						<input type="text" name="name" id="sEditName" placeholder="názov">
						<input type="text" name="code" id="sEditCode" placeholder="kód">
						<p>
							<textarea rows="30" id="sEditScript">
							</textarea>
							<button type="button" onclick="saveSearch()">Uložiť</button>
						</section>
						<section id="SmellDatabase" hidden=true>
							<h1>Prehľad pachov</h1>
						</section>

						<section id = "records">
							<h1>Záznamy automatického refaktorovania</h1>

							<div style="height:600px;">

								<table id="result" >
									<thead>
										<tr>
											<th>id</th>
											<th>čas opravy</th>
											<th>git repozitár</th>
											<th>značka v zdrojovom kóde</th>
											<th>nájdený pach</th>
										</tr>
									</thead>
									<tbody id="RecordsTabletbody">
									</tbody>

								</table>	 
							</div>


						</section>

						<section id="recordDetail" hidden=true>
							<h2>Záznam o oprave</h2>

							<hr>
							<div>
								<div class="recdetail left"  >
									<label for="recordDetailGit">repozitar</label>
									<input class ="detail" type="text" id="recordDetailGit" name="git repo" value="" readonly><br>
								</div>
								<div class="recdetail right">	    	
									<label for="recordDetailrefcode">značka v zdrojovom kóde</label>
									<input class ="detail" type="text" id="recordDetailrefcode" name="ref code" value="" readonly><br>
								</div>
							</div>
							<div class="recdetail left">
								<div >
									<label for="recordDetailpath">pozícia pachu</label>
									<textarea class ="detail" type="text" id="recordDetailpath" name="path" value="" readonly rows="5"></textarea>
								</div>

								<div style="padding-top: 8px">
									<label for="recordDetailsmell">názov pachu</label>
									<input class ="detail" type="text" id="recordDetailsmell" name="smell " value="" readonly><br>
								</div>
							</div>

							<div>

								<div class="recdetail right">
									<label for="recordDetailsmelldesc">popis pachu</label>
									<textarea class ="detail" type="text" id="recordDetailsmelldesc" name="smell desc " value="" readonly rows="5"></textarea>
								</div >
							</div>
							<div style="clear: both;"></div>

							<div class="recdetail">
								<label for="recordDetailRepairs">možné opravy</label>
								<textarea class ="detail" type="text" id="recordDetailRepairs" name="repairs " value="" rows="3" readonly rows="1"></textarea>

							</div>
							<div style="clear: both;"></div>

							<div class="recdetail left">
								<label for="recordDetailJessName">použité pravidlo</label>
								<textarea class ="detail" type="text" id="recordDetailJessName" name="Jess name " value="" readonly rows="1"></textarea>								
							</div>
							<div class="recdetail right">
								<label for="recordDetailJessDesc">popis pravidla</label>
								<textarea class ="detail" type="text" id="recordDetailJessDesc" name="Jess desc " value="" readonly rows="4"></textarea>								
							</div>
							<div style="clear: both;"></div>

							<div>
								<div class="recdetail left">
									<label for="recordDetailcodebefore">zdrojový kód pred úpraavou</label>
									<textarea class ="detail" type="text" id="recordDetailcodebefore" name="code before " value="" readonly rows="25"></textarea>
								</div>
								<div class="recdetail right">
									<label for="recordDetailcodeafter">zdrojový kód po úprave</label>
									<textarea class ="detail" type="text" id="recordDetailcodeafter" name="code after " value="" readonly rows="25"></textarea>
								</div>
							</div>
							<button type="button" onclick="backToRecords()">Späť</button>

						</section>
						<section id="smellView" hidden=true>
							<h1>Zobrazenie nálezov</h1>
							<p>
								Zobraziť nálezy (pachy), ktoré boli objavené týmto prototypom je možné prostredníctvom nástroja CORD (
								<a target="_blank" href="https://devacts.fiit.stuba.sk/CORD">https://devacts.fiit.stuba.sk/CORD</a>), ktorý je taktiež vytvorený na  Fakulte informatiky a informačných technológií Slovenskej technickej univerzity v Bratislave.
								Tento nástroj na správu GIT repozitárov poskytuje viaceré náhľady na zdrojový kód, medzi ktoré patrí aj inovatívny spôsob pomocou 3D rozloženia GIT repozitára. Nástroj tiež dokáže zobraziť viaceré užitočné štatisktiky zdrojového kódu. 
							</p>
							<h1>Návod</h1>
						</section>
						<section id="about" hidden=true>
							<h1>O programe Refactor</h1>
							<p>
								Program predstavuje výstup diplomového projektu na fakulte Informatiky a Informačných Technológií.
								Program je vo fáze prototypu, preto ho nemožno použiť na iné, ako vedecké účely.
								<p>
									Autor: Lukáš Markovič
								</p>
								<p>	
									Spoluautori: Miroslav Haščič, Lukáš Hamacek
								</p> 
								</section>
							</body>
							</html>